package com.android.activity;

import android.app.Activity;
import android.app.AlertDialog;
import android.bluetooth.BluetoothAdapter;
import android.content.DialogInterface;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.widget.Button;

public class ColorSelectionActivity extends Activity {
	public final static String TEAM_COLOR_STRING = "com.activities.FirstOptionScreenActivity.TEAMCOLOR";
	public final Activity thisActivity = this;
	
	
	@Override
	public void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.options);
	}

	public void onClick(View view) {
		Button selectedBttn = (Button)view;
		final String buttonText = selectedBttn.getText().toString();
		
		AlertDialog.Builder alertBox = new AlertDialog.Builder(this);
		alertBox.setMessage("You have joined the group: " + buttonText);
		BluetoothAdapter.getDefaultAdapter().setName(BluetoothAdapter.getDefaultAdapter().getName() + "_" + buttonText);
		
		alertBox.setPositiveButton("OK", new DialogInterface.OnClickListener(){
			public void onClick(DialogInterface dialogInterface, int arg1){
				Intent loadDirections = new Intent(thisActivity, DirectionsScreenActivity.class);
				loadDirections.putExtra(TEAM_COLOR_STRING, buttonText);
				startActivity(loadDirections);
			}
		});
		
		alertBox.setNegativeButton("Cancel", new DialogInterface.OnClickListener(){
			public void onClick(DialogInterface dialogInterface, int arg1){
				dialogInterface.cancel();
			}
		});
		
		alertBox.show();
	}
	
	public void endActivity(View view){
		finish();
	}
}
